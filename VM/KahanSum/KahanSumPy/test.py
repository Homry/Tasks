import unittest
from main import KahanSum, NeumaierSum, KleinSum


class MyTestCase(unittest.TestCase):
    def test1(self):
        arr = [1, 1e20, 1, -1e20]
        res = 2
        self.assertEqual(KleinSum(arr), res)

    def test4(self):
        arr = [-0.32627670534198300000,
               0.79779284423332000000,
               0.06017587905518710000,
               0.67356631287137200000,
               -0.17954941141579000000,
               -0.18893647845952400000,
               -0.40512116189209600000,
               -0.26390867157856900000,
               -0.13033573601928300000,
               0.11537133584026900000,
               -0.44406550584233800000,
               -0.49952844896830000000,
               -0.03613247400248490000,
               0.04783104979409150000,
               -0.19856787872120200000,
               0.28962787397178000000,
               -0.38122413690951300000,
               -0.41449031262795500000,
               -0.43668584192962400000
               ]
        res = -1.9204574679426423
        self.assertEqual(KleinSum(arr), res)

    def test3(self):
        arr = [-0.32627670534198300000,
               0.79779284423332000000,
               0.06017587905518710000,
               -0.17954941141579000000,
               -0.18893647845952400000,
               -0.44406550584233800000,
               -0.49952844896830000000,
               -0.03613247400248490000,
               0.67356631287137200000,
               -0.19856787872120200000,
               0.28962787397178000000,
               -0.38122413690951300000,
               0.04783104979409150000,
               -0.41449031262795500000,
               -0.40512116189209600000,
               -0.26390867157856900000,
               -0.13033573601928300000,
               0.11537133584026900000,
               -0.43668584192962400000
               ]
        res = -1.9204574679426423
        self.assertEqual(KleinSum(arr), res)

    def test5(self):
        arr = [0.1631862597493820000,
               -0.0893521719278162000,
               0.5218583813051590000,
               0.1636976622243270000,
               0.2285708123138340000,
               -0.7318448446184900000,
               0.3079760958770110000,
               0.4338396468214810000,
               0.0851861789490952000,
               -0.2843817369020150000,
               -0.0893638416262960000,
               0.5854187152991340000,
               -0.2052389123974170000,
               -0.3785477818899280000,
               0.5918897210583040000,
               -0.5029799306521610000,
               0.1461976058223800000,
               0.5997140968488430000,
               -0.6640018056510780000]
        res = 0.8818241506037491000
        self.assertEqual(KleinSum(arr), res)


if __name__ == '__main__':
    unittest.main()
